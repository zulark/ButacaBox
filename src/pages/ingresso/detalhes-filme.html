<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ButacaBox</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/2598/2598702.png">
    <link rel="stylesheet" href="styles.css">
</head>

<body class="text-bg-dark">

    <nav class="navbar bg-body-tertiary">
        <div class="container-fluid header d-flex justify-content-between align-items-center">
            <div style="display: flex; flex-direction: column; align-items: center;">
                <span class="navbar-brand-logo">
                    <img src="https://cdn-icons-png.flaticon.com/512/2598/2598702.png" alt="">
                </span>
                <a id="logo-name" href="../index.html">
                    <strong class="d-none d-sm-block">BUTACABOX</strong>
                </a>
            </div>

            <div class="d-flex align-items-center">
                <div class=" d-none d-sm-block svg m-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
                        class="bi bi-person-circle" viewBox="0 0 16 16">
                        <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0" />
                        <path fill-rule="evenodd"
                            d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1" />
                    </svg>
                </div>
                <div class="fs-2">
                    <a class="d-xs-flex flex-direction column d-block fs-sx-1 link-text" id="loginbutton"
                        href="login/login.html">Entrar
                        ou
                        <br>
                        cadastrar-se</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container col-xxl-8 px-4 py-5">
        <div class="row flex-lg-row align-items-center g-5 py-5">
            <div class="col-10 col-sm-8 col-lg-6">
                <img id="cartaz_filme" src="" class="d-block mx-lg-auto img-fluid" alt="Bootstrap Themes" width="700"
                    height="700" loading="lazy">
            </div>
            <div class="col-lg-6">
                <h1 id="titulo" class="display-5 fw-bold lh-1 mb-3"></h1>
                <p id="genero" class="lead text-white"></p>
                <p id="descricao" class="blog-post-meta"></p>
                <figcaption class="blockquote-footer text-white">
                    <p id="diretor"></p>
                    <p id="duracao"></p>
                </figcaption>

                <div class="youtube-video"></div>
            </div>
            <script>
                function fetchMovieData() {
                    fetch(`../../api/filmes/getMovies.php?id=${movieId}`)
                        .then(response => response.json())
                        .then(data => {
                            document.getElementById('cartaz_filme').src = data.cartaz_filme;
                            document.getElementById('titulo').innerText = data.titulo;
                            document.getElementById('diretor').innerText = `Direção: ${data.diretor}`;
                            document.getElementById('genero').innerText = data.genero;
                            document.getElementById('duracao').innerText = `Duração: ${data.duracao} minutos`;
                            document.getElementById('descricao').innerText = data.descricao;
                            document.querySelector('.youtube-video').innerHTML = `<iframe width="560" height="315" src="${data.youtube_url}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>`;
                        })
                        .catch(error => console.error('Error:', error));
                }

                const urlParams = new URLSearchParams(window.location.search);
                const movieId = urlParams.get('id');
                if (movieId) {
                    fetchMovieData(movieId);
                } else {
                    console.error('Movie ID not provided.');
                }

            </script>

            <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
                integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
                crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
                crossorigin="anonymous"></script>
</body>

</html>